{\rtf1\ansi\ansicpg1252\deff0\nouicompat\deflang3082{\fonttbl{\f0\fnil\fcharset0 Calibri;}{\f1\fnil\fcharset2 Symbol;}}
{\*\generator Riched20 10.0.19041}\viewkind4\uc1 
\pard\sa200\sl276\slmult1\f0\fs22\lang10 El contrato \fs32 "CawPublisher" \fs22 es un contrato inteligente desarrollado en Solidity que facilita la creaci\'f3n y gesti\'f3n de publicaciones en una plataforma de redes sociales descentralizada. Aqu\'ed hay una breve descripci\'f3n de lo que hace este contrato:\par
Creaci\'f3n de Publicaciones: Los usuarios pueden crear publicaciones, que pueden ser publicaciones principales, respuestas o hilos de discusi\'f3n. Cada publicaci\'f3n contiene contenido de texto y metadatos JSON.\par
Reacciones y Comparticiones: Los usuarios pueden agregar o quitar "likes" (me gusta) a las publicaciones y compartir o quitar la compartici\'f3n de las mismas. Estas acciones se registran y se pueden contar.\par
Transferencia de Fondos: Se realiza una transferencia de fondos interna cuando los usuarios realizan ciertas acciones, como agregar "likes" o compartir publicaciones. Esto est\'e1 destinado a incentivar la participaci\'f3n y la interacci\'f3n en la plataforma.\par
\par
\b  createPublication (string memory senderNFTUsername, address receiverContract, uint256 contractTimestamp, bytes32 signatureToContract, string memory content, string memory jsonMetadata, PublicationType publicationType, uint256 parentPublicationId): \par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0 Crea una publicaci\'f3n en el contrato. Puede ser una publicaci\'f3n principal, respuesta o hilo.\par

\pard\sa200\sl276\slmult1\par
\b createPublication (string memory senderNFTUsername, string memory content, string memory jsonMetadata, PublicationType publicationType, uint256 parentPublicationId): \par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0 Funci\'f3n auxiliar para crear una publicaci\'f3n en el contrato.\par

\pard\sa200\sl276\slmult1\par
\b deletePublication (string memory nftUsername, uint256 id): \b0\par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1 Marca una publicaci\'f3n como eliminada, cambiando su tipo a "DeletePost".\par

\pard\sa200\sl276\slmult1\par
\b verifyNFTOwnership (string memory nftUsername, address sender): \par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0 Verifica si el propietario de la direcci\'f3n actual es due\'f1o del NFT.\par

\pard\sa200\sl276\slmult1\par
\b transferFoundPublisher (string memory senderNFTUsername, address receiverContract, uint256 contractTimestamp, bytes32 signatureToContract, string memory typeAction): \par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0 Realiza transferencia de fondos entre usuarios utilizando el contrato CAWTransferContract.\par

\pard\sa200\sl276\slmult1\par
\b addReaction (string memory senderNFTUsername, string memory receiverNFTUsername, address receiverContract, uint256 userTimestamp, uint256 contractTimestamp, bytes32 signatureToUser, bytes32 signatureToContract, uint256 id): \par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0 Permite a un usuario agregar o quitar una reacci\'f3n "like" a una publicaci\'f3n.\par

\pard\sa200\sl276\slmult1\par
\b sharePublication (string memory senderNFTUsername, string memory receiverNFTUsername, address receiverContract, uint256 userTimestamp, uint256 contractTimestamp, bytes32 signatureToUser, bytes32 signatureToContract, uint256 id): \par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0 Permite a un usuario compartir o quitar la compartici\'f3n de una publicaci\'f3n.\par

\pard\sa200\sl276\slmult1\par
\b transferFundsShares (string memory senderNFTUsername, address receiverContract, uint256 contractTimestamp, bytes32 signatureToContract, string memory typeAction): \par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0 Realiza transferencia de fondos para la acci\'f3n de compartir una publicaci\'f3n.\par

\pard\sa200\sl276\slmult1\par
\b findPublicationId (uint256 id, string memory nftUsername):\par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0  Devuelve el ID de una publicaci\'f3n en funci\'f3n de su \'edndice y el nombre de usuario del NFT.\par

\pard\sa200\sl276\slmult1\par
\b getUserPublication (string memory nftUsername, uint256 id): \par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0 Devuelve los detalles de una publicaci\'f3n espec\'edfica de un usuario.\par

\pard\sa200\sl276\slmult1\par
\b getListUserPublication (string memory nftUsername, uint256 offset, uint256 limit): \par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0 Devuelve una lista de las publicaciones de un usuario, con l\'edmite y desplazamiento.\par

\pard\sa200\sl276\slmult1\par
\b getUserLikeStatusByPublication (string memory nftUsername, uint256 publicationId): \par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0 Devuelve si a un usuario le gusta una publicaci\'f3n espec\'edfica.\par

\pard\sa200\sl276\slmult1\par
\b getUserShareStatusByPublication (string memory nftUsername, uint256 publicationId):\par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0  Devuelve si un usuario ha compartido una publicaci\'f3n espec\'edfica.\par

\pard\sa200\sl276\slmult1\par
\b getLikesCountByPublication (uint256 publicationId): \par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0 Devuelve la cantidad total de "likes" en una publicaci\'f3n.\par

\pard\sa200\sl276\slmult1\par
\b getSharesCountByPublication (uint256 publicationId): \par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0 Devuelve la cantidad total de veces que se ha compartido una publicaci\'f3n.\par

\pard\sa200\sl276\slmult1\par
\b getUserTotalPublicationsCount (string memory nftUsername): \par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0 Devuelve la cantidad total de publicaciones de un usuario.\par

\pard\sa200\sl276\slmult1\par
\b getTotalPublications ():\b0\par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1  Devuelve el n\'famero total de publicaciones en el contrato.\par

\pard\sa200\sl276\slmult1\par
\b checkNFTOwnership (string memory nftUsername): \b0\par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1 Verifica la propiedad de un NFT por parte de la direcci\'f3n actual.\par

\pard\sa200\sl276\slmult1\par
\b getNFTUsername (address walletAddress): \b0\par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1 Devuelve el nombre de usuario del NFT asociado a una direcci\'f3n.\par

\pard\sa200\sl276\slmult1\par
\b getSmartUserPublication (string memory nftUsername, uint256 id): \b0\par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1 Devuelve una cadena de publicaciones que incluye hilos y respuestas relacionadas con una publicaci\'f3n.\par

\pard\sa200\sl276\slmult1\par
\b appendPublicationToChain (Publication[] memory chain, Publication memory newPublication): \par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0 Funci\'f3n auxiliar para agregar una publicaci\'f3n a una cadena de publicaciones.\par

\pard\sa200\sl276\slmult1\par
\b getUserThread (string memory nftUsername, uint256 index): \par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0 Devuelve el hilo de un usuario en funci\'f3n de su \'edndice.\par

\pard\sa200\sl276\slmult1\par
\b getUserResponsesWithParent (string memory nftUsername, uint256 index): \par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0 Devuelve las respuestas de un usuario junto con sus publicaciones padre.\par

\pard\sa200\sl276\slmult1\par
\b getUserMainPost (string memory nftUsername, uint256 id): \par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1\b0 Devuelve el "MainPost" de un usuario en funci\'f3n de su \'edndice.\par

\pard\sa200\sl276\slmult1\par
\b getPublicationCounts (string memory nftUsername): \b0\par

\pard{\pntext\f1\'B7\tab}{\*\pn\pnlvlblt\pnf1\pnindent0{\pntxtb\'B7}}\fi-360\li720\sa200\sl276\slmult1 Devuelve la cantidad de "MainPosts," hilos y respuestas de un usuario.\par

\pard\sa200\sl276\slmult1\par
En resumen, el contrato "CawPublisher" proporciona una base s\'f3lida para la creaci\'f3n de una plataforma de redes sociales descentralizada, permitiendo a los usuarios interactuar, compartir contenido y registrar sus acciones, todo mientras se asegura de que solo los propietarios de NFT tengan ciertos privilegios en la plataforma.\par
}
 